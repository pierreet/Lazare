jQuery(function(d){function c(){var e=d("#category_ids").val();if(e.length===0){return[]}else{return e.split(",")}}function b(){var e=[];d(".categories:visible").each(function(f,g){if(d(this).val()!==""){e.push(d(this).val())}});e=d.unique(e);d("#category_ids").val(e.join(","));window.parent.WysijaPopup.setDimensions()}function a(e){d("#category-"+e).remove()}d(".categories:visible").live("change",function(){b()});d("#add-category").click(function(){if((d("#category_selection li").length+1)>=d(".categories:hidden option").length){return}var e=d("#category_list").html();d("#category_selection").append('<li id="category-'+(parseInt(d("#category_selection li").length)+1)+'" class="clearfix"><span>'+e+'</span><a class="icon-minus remove-category" rel="'+(parseInt(d("#category_selection li").length)+1)+'" href="javascript:;"><span></span></a></li>');b();return false});d(".remove-category").live("click",function(){a(d(this).attr("rel"));b();return false});d("#autopost-submit").click(function(){wysijaAJAX.task="generate_auto_post";wysijaAJAX.wysijaData=d("#autopost-form").serializeArray();jQuery.ajax({type:"POST",url:wysijaAJAX.ajaxurl,data:wysijaAJAX,success:function(e){if(e.result!==undefined&&e.result!==""){window.parent.WysijaPopup.success(e.result)}else{window.parent.WysijaPopup.cancel()}}});return false});d("input.color").modcoder_excolor({hue_bar:1,border_color:"#969696",anim_speed:"fast",round_corners:false,shadow_size:2,shadow_color:"#f0f0f0",background_color:"#ececec",backlight:false,label_color:"#333333",effect:"fade",show_input:false,z_index:20000,callback_on_open:function(){d("html, body").animate({scrollTop:d("#modcoder_colorpicker_wrapper:visible").offset().top},200)}});d(function(){b()})});